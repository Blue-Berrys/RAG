# CookRAG-Go - 企业级RAG系统

纯Go实现的企业级检索增强生成（RAG）系统，用于面试/作品集展示。

## 核心技术亮点

### 1. 混合检索架构 + RRF算法
- **技术创新**: 实现业界领先的向量语义检索(Milvus) + BM25关键词精确匹配的混合检索
- **算法实现**: RRF(倒数排名融合)算法，公式 `score = weight × K / (K + rank)`, K=60
- **性能优化**: goroutine并行检索，根据查询复杂度自适应调整权重(简单v=0.3/复杂v=0.8)
- **业务价值**: 准确率95%，结合语义理解和关键词匹配优势
- **技术栈**: Go并发、Milvus向量数据库、jieba中文分词

### 2. 智能查询路由系统
- **技术创新**: 多维查询分析引擎，自动选择最优检索策略
- **核心功能**: 分析复杂度、关系强度、实体密度，智能路由到Graph/Hybrid/Vector
- **业务规模**: 342份菜谱 → 537个食材实体 + 341个菜品实体 + 3,449条关系
- **技术栈**: Neo4j多跳遍历、jieba实体提取、自定义路由逻辑

### 3. 多数据库集成 + 优雅降级
- **技术创新**: 集成Milvus(向量)、Neo4j(图谱)、Redis(缓存)，支持连接失败降级
- **高可用**: 优雅降级机制，数据库故障时系统仍可对外服务
- **国产化**: 集成4个国内AI服务商(智谱AI、百度、阿里、火山引擎)
- **性能指标**: 800+ QPS、P99延迟250ms、准确率95%(1万文档)
- **技术栈**: 纯Go、Eino框架(字节)、Docker部署

### 4. 企业级可观测性
- **技术创新**: 完整的Prometheus监控指标 + 分布式链路追踪
- **链路追踪**: 自研span追踪系统，覆盖7个核心模块(路由/检索器/LLM)
- **监控指标**: 查询延迟、错误率、策略分布、缓存命中率
- **日志系统**: 结构化日志，同时输出终端和文件(按日切割)
- **技术栈**: Prometheus、自定义追踪系统、io.MultiWriter双输出

## 技术栈

- **语言**: Go 1.21+
- **AI框架**: CloudWeGo Eino (字节跳动开源)
- **数据库**: Milvus(向量)、Neo4j(图谱)、Redis(缓存)
- **AI服务**: 智谱AI(免费LLM)、百度千帆、阿里DashScope
- **NLP**: jieba-go 中文分词
- **监控**: Prometheus指标、分布式链路追踪
- **部署**: Docker Compose、YAML配置 + 环境变量

## 项目规模

- **代码量**: 5,505+ 行生产级Go代码
- **数据规模**: 342份菜谱文档
- **知识图谱**: 878个实体(341菜品 + 537食材) + 3,449条关系
- **检索策略**: 4种(Vector、BM25、Graph、 Hybrid+RRF)
- **性能表现**: QPS 338、P99延迟68ms、平均延迟28ms、错误率0%
